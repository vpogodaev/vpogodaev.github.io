(this["webpackJsonptime-tracker"]=this["webpackJsonptime-tracker"]||[]).push([[0],{19:function(e,n,t){},21:function(e,n,t){},22:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var s=t(0),o=t.n(s),c=t(14),r=t.n(c),i=t(7),d=t(34),a=t(3);function u(e,n){var t=Object(s.useRef)();Object(s.useEffect)((function(){t.current=e}),[e]),Object(s.useEffect)((function(){if(null!==n){var e=new window.Worker("./workers/set-interval-worker.js");return e.postMessage({delay:n}),e.onerror=function(e){return console.error(e)},e.onmessage=function(e){t.current()},function(){return e.terminate()}}}),[n])}function O(e){var n=e,t=Math.floor(n/60);return n%=60,{hours:Math.floor(t/60),minutes:t%=60,seconds:n}}function f(e){return e<10?"0"+e:""+e}t(19);var j=t(1);var l=function(e){var n="input-time"+(e.readOnly?" input-time__no-arrows":"");return Object(j.jsx)("input",{className:n,type:e.readOnly?"text":"number",value:e.value,onChange:function(n){var t=n.target.value;n.target.value="",e.onChange(t,e.name)},readOnly:e.readOnly})};t(21);var v=function(e){var n=function(e){return e<10?"0"+e:e},t=function(n,t){var s=e.hours,o=e.minutes,c=e.seconds,r=function(e){e>=0&&e<=23&&(s=+e)},i=function(e){e>=0&&e<=59?o=+e:e>59&&s<23?(o=0,r(s+1)):e<0&&s>0&&(o=59,r(s-1))};"hours"===t?r(n):"minutes"===t?i(n):"seconds"===t&&function(e){e>=0&&e<=59?c=+e:e>59&&o<=59?(c=0,i(o+1)):e<0&&(o>0||s>0)&&(c=59,i(o-1))}(n),e.onTimeChange(s,o,c)};return Object(j.jsxs)("div",{className:"clock",children:[Object(j.jsx)(l,{value:n(e.hours),onChange:t,name:"hours",readOnly:e.readOnly}),Object(j.jsx)("div",{className:"dots",children:":"}),Object(j.jsx)(l,{value:n(e.minutes),onChange:t,name:"minutes",readOnly:e.readOnly}),Object(j.jsx)("div",{className:"dots",children:":"}),Object(j.jsx)(l,{value:n(e.seconds),onChange:t,name:"seconds",readOnly:e.readOnly})]})},b=(t(22),function(e){var n,t=e.status,s=e.onStartWorkBtn,o=e.onPauseWorkBtn,c=e.onStopWorkBtn,r=e.onStartRelaxBtn,i=e.onPauseRelaxBtn,a=e.onStopRelaxBtn,u=e.onStopBtn,O=function(e,n,t){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(j.jsx)(d.a,{onClick:t,disabled:s,children:e},n)},f=function(e){return O("Stop",0,u,e)},l=function(e){return O("Start work",1,s,e)},v=function(e){return O("Pause work",2,o,e)},b=function(e){return O("Start relax",4,r,e)},S=function(e){return O("Pause relax",5,i,e)},m={0:[l(),v(!0),f(!0)],1:[l(!0),v(),f()],2:[l(),O("Stop work",3,c,n),f()],3:[b(),S(!0),f()],4:[b(),S(!0),f()],5:[b(!0),S(),f()],6:[b(),function(e){return O("Stop relax",6,a,e)}(),f()],7:[l(),v(!0),f()],8:[l(),v(!0),f()]};return Object(j.jsx)("div",{className:"buttons-wrapper",children:m[t]})}),S=(t(23),0),m=1,h=2,p=3,g=4,x=5,N=6,y=7,k=8,C=function(e){var n=e.settingsBtnComponent,t=e.settingsComponent,o=e.workSettings,c=e.relaxSettings,r=e.bigRelaxSettings,d=Object(s.useState)({seconds:0,initSeconds:o.seconds,count:0,needsNotify:o.needsNotify,needsStop:o.needsStop,overSeconds:o.overSeconds,needsOver:o.needsOver,initNeedsOver:o.needsOver}),l=Object(i.a)(d,2),C=l[0],w=l[1],T=Object(s.useState)({seconds:0,initSeconds:c.seconds,count:0,needsNotify:c.needsNotify,needsStop:c.needsStop,overSeconds:c.overSeconds,needsOver:c.needsOver,initNeedsOver:c.needsOver}),_=Object(i.a)(T,2),R=_[0],B=_[1],W=Object(s.useState)({seconds:0,initSeconds:r.seconds,count:0,needsNotify:r.needsNotify,needsStop:r.needsStop,overSeconds:r.overSeconds,needsOver:r.needsOver,initNeedsOver:r.needsOver,period:r.period}),E=Object(i.a)(W,2),P=E[0],M=E[1],J=Object(s.useState)({hours:0,seconds:0,minutes:0}),q=Object(i.a)(J,2),I=q[0],z=q[1],A=Object(s.useState)({seconds:0}),D=Object(i.a)(A,2),F=D[0],G=D[1],H=Object(s.useState)(S),K=Object(i.a)(H,2),L=K[0],Q=K[1],U=Object(s.useState)("Timer"),V=Object(i.a)(U,2),X=V[0],Y=(V[1],function(e,n){var t=e.seconds,s=e.overSeconds,c=e.needsNotify,r=e.needsStop,i=e.needsOver;n((function(e){return Object(a.a)(Object(a.a)({},e),{},{seconds:t,initSeconds:t,needsNotify:c,needsStop:r,overSeconds:s,needsOver:i,initNeedsOver:o.needsOver})}))});Object(s.useEffect)((function(){Q(S),Y(o,w),Y(c,B),Y(r,M)}),[o,c,r]);var Z=3===L||L>=5&&L<=8?P.initSeconds>0&&C.count>0&&C.count%P.period===0?2:1:0,$=function(e,n){var t=e.initSeconds,s=e.initNeedsOver;n((function(e){return Object(a.a)(Object(a.a)({},e),{},{seconds:t,needsOver:s})}))},ee=function(e){var n=O(e),t=n.hours,s=n.minutes,o=n.seconds;z({hours:t,minutes:s,seconds:o})},ne=function(){G((function(e){return Object(a.a)(Object(a.a)({},e),{},{seconds:0})}))},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0,t={body:n,dir:"ltr"};new Notification(e,t)};Object(s.useEffect)((function(){L===S?($(C,w),$(R,B),$(P,M)):L===p?(C.needsNotify&&te("Work done"),$(C,w),C.needsOver?(ne(),Q(g)):C.needsStop||Q(x)):L===y&&((1===Z&&R.needsNotify||2===Z&&P.needsNotify)&&te("Relax done"),$(R,B),$(P,M),2===Z&&P.needsOver||1===Z&&R.needsOver?(ne(),Q(k)):(2===Z&&!P.needsStop||1===Z&&!R.needsStop)&&Q(m))}),[L]);var se=function(){ee(2===Z?P.seconds:R.seconds)};Object(s.useEffect)((function(){0===L||1===L||2===L?ee(C.seconds):3===L?C.needsOver?ee(F.seconds):R.initSeconds>0?se():ee(C.seconds):5===L||6===L?se():7===L?R.needsOver?ee(F.seconds):ee(C.seconds):4!==L&&8!==L||ee(F.seconds)}),[C,R,P,F]),Object(s.useEffect)((function(){var e=I.hours,n=I.minutes,t=I.seconds,s="".concat(f(e))+":".concat(f(n))+":".concat(f(t)),o={0:"Stopped",1:"Work ".concat(s),2:"Work paused ".concat(s),3:"Stopped",4:"Work over ".concat(s),5:"Relax ".concat(s),6:"Relax paused ".concat(s),7:"Stopped",8:"Relax over ".concat(s)};document.title=o[L]}),[L,I]);var oe=function(){w((function(e){return Object(a.a)(Object(a.a)({},e),{},{count:e.count+1})})),Q(p)},ce=function(){2===Z?M((function(e){return Object(a.a)(Object(a.a)({},e),{},{count:e.count+1})})):B((function(e){return Object(a.a)(Object(a.a)({},e),{},{count:e.count+1})})),Q(y)},re=function(e,n){var t=e.seconds;if(t<=0)return!0;var s=t-1;return n((function(e){return Object(a.a)(Object(a.a)({},e),{},{seconds:s})})),s<=0};u((function(){re(C,w)&&oe()}),L===m?1e3:null),u((function(){re(R,B)&&ce()}),L===x&&1===Z?1e3:null),u((function(){re(P,M)&&ce()}),L===x&&2===Z?1e3:null),u((function(){var e,n=F.seconds+1;if(G((function(e){return Object(a.a)(Object(a.a)({},e),{},{seconds:n})})),L===g&&C.needsNotify&&n%C.overSeconds===0?e="Work":L===k&&(1===Z&&R.needsNotify&&n%C.overSeconds===0||2===Z&&P.needsNotify&&n%P.overSeconds===0)&&(e="Relax"),e){var t=O(n),s="".concat(t.hours?t.hours+"h ":"")+"".concat(t.minutes?t.minutes+"m ":"")+"".concat(t.seconds,"s");te("".concat(e," over ").concat(s," ago"))}}),L===g||L===k?1e3:null);return Object(j.jsxs)("div",{className:"pomodoro-timer",children:[Object(j.jsx)("div",{className:"pomodoro-timer__settings-btn",children:n}),Object(j.jsxs)("div",{className:"pomodoro-timer__status",children:[X," ",{0:"stopped",1:"started",2:"paused",3:"finished",4:"over time",5:"relax started",6:"relax paused",7:"relax finished",8:"relax over time"}[L]]}),Object(j.jsx)(v,{readOnly:!0,hours:I.hours,minutes:I.minutes,seconds:I.seconds}),Object(j.jsx)(b,{status:L,onStartWorkBtn:function(){Q(m),ee(C.seconds)},onPauseWorkBtn:function(){Q(h)},onStartRelaxBtn:function(){Q(x),se()},onPauseRelaxBtn:function(){Q(N)},onStopWorkBtn:function(){w((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsOver:!1})})),oe()},onStopRelaxBtn:function(){1===Z?B((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsOver:!1})})):2===Z&&M((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsOver:!1})})),ce()},onStopBtn:function(){Q(S)}}),Object(j.jsx)("div",{className:"pomodoro-timer__settings",children:t})]})},w=t(10),T=t(33),_=(t(24),function(e){var n=e.seconds,t=e.overSeconds,s=e.needsOver,o=e.needsStop,c=e.needsNotify,r=e.onTimeChange,i=e.onOverTimeChange,d=e.onSwitchChange,a=e.settingName,u=O(n),f=O(t),l=function(e,n,t,s){s(function(e,n,t){return 60*e*60+60*n+t}(e,n,t))};return Object(j.jsxs)("div",{className:"settings__position",children:[Object(j.jsxs)("div",{className:"settings__title settings__title_small",children:[a,":"]}),Object(j.jsxs)("div",{className:"settings__clock-wrapper",children:[Object(j.jsx)("div",{className:"settings__clock-name",children:"Timer"}),Object(j.jsx)(v,{readOnly:!1,hours:u.hours,minutes:u.minutes,seconds:u.seconds,onTimeChange:function(e,n,t){return l(e,n,t,r)}}),Object(j.jsx)("div",{className:"settings__clock-name",children:"Over notify in"}),Object(j.jsx)(v,{readOnly:!1,hours:f.hours,minutes:f.minutes,seconds:f.seconds,onTimeChange:function(e,n,t){return l(e,n,t,i)}})]}),Object(j.jsxs)("ul",{className:"settings__switches",children:[Object(j.jsx)("li",{children:Object(j.jsx)(T.a.Check,{type:"switch",label:"Needs over",id:Object(w.a)(),checked:s,onChange:function(e){return d(e,"needsOver")}})}),Object(j.jsx)("li",{children:Object(j.jsx)(T.a.Check,{type:"switch",label:"Needs stop",id:Object(w.a)(),checked:o,onChange:function(e){return d(e,"needsStop")}})}),Object(j.jsx)("li",{children:Object(j.jsx)(T.a.Check,{type:"switch",label:"Needs notify",id:Object(w.a)(),checked:c,onChange:function(e){return d(e,"needsNotify")}})})]})]})}),R=(t(28),function(e){var n=e.onSaveClick,t=e.workTimerSettings,o=e.relaxTimerSettings,c=e.bigRelaxTimerSettings,r=Object(s.useState)({seconds:t.seconds,needsOver:t.needsOver,needsStop:t.needsStop,needsNotify:t.needsNotify,overSeconds:t.overSeconds}),u=Object(i.a)(r,2),O=u[0],f=u[1],l=Object(s.useState)({seconds:o.seconds,needsOver:o.needsOver,needsStop:o.needsStop,needsNotify:o.needsNotify,overSeconds:o.overSeconds}),v=Object(i.a)(l,2),b=v[0],S=v[1],m=Object(s.useState)({seconds:c.seconds,needsOver:c.needsOver,needsStop:c.needsStop,needsNotify:c.needsNotify,overSeconds:c.overSeconds,needed:c.needed,period:c.period}),h=Object(i.a)(m,2),p=h[0],g=h[1],x=function(e,n){n((function(n){return Object(a.a)(Object(a.a)({},n),{},{seconds:e})}))},N=function(e,n){n((function(n){return Object(a.a)(Object(a.a)({},n),{},{overSeconds:e})}))},y=function(e,n,t){var s=e.target.checked;switch(n){case"needsOver":t((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsOver:s})}));break;case"needsNotify":t((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsNotify:s})}));break;case"needsStop":t((function(e){return Object(a.a)(Object(a.a)({},e),{},{needsStop:s})}));break;default:return}},k=O?Object(j.jsxs)("div",{children:[Object(j.jsx)(_,{seconds:O.seconds,overSeconds:O.overSeconds,needsOver:O.needsOver,needsStop:O.needsStop,needsNotify:O.needsNotify,onTimeChange:function(e){return x(e,f)},onOverTimeChange:function(e){return N(e,f)},onSwitchChange:function(e,n){return y(e,n,f)},settingName:"Working timer"}),Object(j.jsx)(_,{seconds:b.seconds,overSeconds:b.overSeconds,needsOver:b.needsOver,needsStop:b.needsStop,needsNotify:b.needsNotify,onTimeChange:function(e){return x(e,S)},onOverTimeChange:function(e){return N(e,S)},onSwitchChange:function(e,n){return y(e,n,S)},settingName:"Relax timer"}),Object(j.jsx)(_,{seconds:p.seconds,overSeconds:p.overSeconds,needsOver:p.needsOver,needsStop:p.needsStop,needsNotify:p.needsNotify,onTimeChange:function(e){return x(e,g)},onOverTimeChange:function(e){return N(e,g)},onSwitchChange:function(e,n){return y(e,n,g)},settingName:"Big relax timer"})]}):null;return Object(j.jsxs)("div",{className:"settings",children:[Object(j.jsx)("div",{className:"settings__title",children:"Settings"}),k,Object(j.jsx)(d.a,{onClick:function(){n({workTimerSettings:O,relaxTimerSettings:b,bigRelaxTimerSettings:p})},children:"Save"})]})}),B=(t(29),function(){var e=Object(s.useState)(!1),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(s.useState)({seconds:1800,overSeconds:120,needsNotify:!0,needsStop:!1,needsOver:!0}),r=Object(i.a)(c,2),a=r[0],u=r[1],O=Object(s.useState)({seconds:300,overSeconds:60,needsNotify:!0,needsStop:!1,needsOver:!0}),f=Object(i.a)(O,2),l=f[0],v=f[1],b=Object(s.useState)({seconds:600,overSeconds:90,needsNotify:!0,needsStop:!1,needsOver:!0,needed:!0,period:2}),S=Object(i.a)(b,2),m=S[0],h=S[1],p=function(e,n){console.log(e),n({seconds:e.seconds,overSeconds:e.overSeconds,needsNotify:e.needsNotify,needsStop:e.needsStop,needsOver:e.needsOver})},g=t?Object(j.jsx)(R,{onSaveClick:function(e){var n=e.workTimerSettings,t=e.relaxTimerSettings,s=e.bigRelaxTimerSettings;p(n,u),p(t,v),p(s,h)},workTimerSettings:a,relaxTimerSettings:l,bigRelaxTimerSettings:m}):null;return Object(j.jsx)(C,{settingsComponent:g,settingsBtnComponent:Object(j.jsx)(d.a,{onClick:function(){o(!t)},children:"Settings"}),workSettings:a,relaxSettings:l,bigRelaxSettings:m})});t(30);var W=function(){return Object(s.useEffect)((function(){"Notification"in window?Notification.requestPermission():console.log("notifications disabled"),document.title="Timer app"}),[]),Object(j.jsx)(B,{})};t(31);r.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c966bd0a.chunk.js.map